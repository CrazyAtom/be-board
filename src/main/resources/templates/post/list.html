<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ê²Œì‹œíŒ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-5">
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>ğŸ“ƒ ê²Œì‹œíŒ</h1>
    <a href="/posts/new" class="btn btn-success">âœï¸ ê¸€ ì‘ì„±</a>
</div>

<ul id="post-list" class="list-group">
    <!-- JSë¡œ ê²Œì‹œê¸€ ëª©ë¡ì„ ë Œë”ë§í•©ë‹ˆë‹¤ -->
</ul>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetch('/api/posts')
            .then(res => res.json())
            .then(posts => {
                const list = document.getElementById('post-list');
                if (posts.length === 0) {
                    list.innerHTML = '<li class="list-group-item text-muted">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
                    return;
                }

                posts.forEach(post => {
                    const item = document.createElement('li');
                    item.className = 'list-group-item d-flex justify-content-between align-items-center';

                    const link = document.createElement('a');
                    link.href = `/posts/${post.id}`;
                    link.textContent = post.title;
                    link.className = 'text-decoration-none';

                    item.appendChild(link);
                    list.appendChild(item);
                });
            })
            .catch(error => {
                console.error('ê²Œì‹œê¸€ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', error);
            });
    });
</script>
</body>
</html>
